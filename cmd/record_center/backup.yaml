# 录音笔备份工具配置文件
# 支持绝对路径和相对路径（相对于程序执行目录）

# 源设备配置
source:
  device_name: "SR302"                    # 录音笔设备名称
  base_path: "内部共享存储空间\\录音笔文件" # 设备内基础路径
  vid: "2207"                            # USB VID
  pid: "0011"                            # USB PID

# 目标备份配置
target:
  base_directory: "./backups"              # 备份目标目录（支持相对/绝对路径）
  create_subdirs: true                     # 是否创建子目录结构

# 备份配置
backup:
  file_extensions: [".opus"]               # 要备份的文件扩展名
  skip_existing: true                      # 跳过已存在的文件
  preserve_structure: true                 # 保持原有目录结构
  max_concurrent: 3                        # 最大并发复制数
  # 完整性验证配置
  integrity_check: true                    # 启用文件完整性验证
  hash_algorithm: "sha256"                 # 哈希算法 (md5, sha1, sha256)
  # 断点续传配置
  enable_resume: true                      # 启用断点续传功能
  chunk_size: "5MB"                        # 文件分块大小
  resume_interval: "5MB"                   # 保存进度的间隔
  temp_dir: "./temp"                       # 临时文件目录
  resume_max_age: "24h"                    # 断点信息保留时间
  # 清理空文件夹配置
  clean_empty_folders: true                # 是否自动清理空文件夹

# PowerShell 兼容性配置
powershell:
  preferred_version: "auto"               # 首选版本: "auto"自动选择, "5.1"Windows PowerShell, "7.x"PowerShell Core
  fallback_order: ["powershell", "pwsh"]  # 优先尝试的PowerShell可执行文件顺序
  execution_policy: "Bypass"              # 执行策略: "Bypass", "RemoteSigned", "AllSigned"
  timeout_seconds: 30                     # 命令执行超时时间（秒）
  compatibility_mode: "strict"            # 兼容性模式: "strict"严格模式, "loose"宽松模式
  max_retries: 3                          # 失败后最大重试次数
  retry_delay_seconds: 1                  # 重试之间的延迟时间（秒）

# 日志配置
logging:
  level: "info"                           # 日志级别: debug, info, warn, error
  file: "record_center.log"               # 日志文件名
  console: true                           # 是否输出到控制台
  rotate_hours: 24                        # 日志轮转时间（小时）
  max_days: 7                             # 日志保留天数